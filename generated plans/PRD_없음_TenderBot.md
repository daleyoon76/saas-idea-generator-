# TenderBot PRD

---

## 1. 문서 메타데이터

| 항목 | 내용 |
|------|------|
| 서비스명 | TenderBot |
| 문서 상태 | 초안 (AI 생성) |
| 생성일 | 2025-07-14 |
| 기반 문서 | TenderBot 사업기획서 (풀버전) |

---

## 2. 배경 및 목적

### 해결하려는 문제
* **공고 탐색의 비효율:** 나라장터에 매일 수천 건 이상의 신규 공고가 게시되며, 담당자 1인이 자사 면허·실적·지역·금액 조건에 맞는 공고를 수동 필터링하는 데 하루 2~3시간(연간 약 500~750시간)을 소비하고 있다. 복수 품목·복수 지역 공고를 동시에 추적해야 하는 기업의 경우 부담이 가중된다.
* **제안서 작성 부담:** 적격 공고 발견 후 RFP 분석 및 제안서 작성에 수일~1주가 소요되며, 소규모 업체는 전담 인력 부재로 유망 공고 입찰을 포기하는 사례가 빈번하다. 제한입찰 공고의 복합 조건(실적제한·지역제한·중소기업자제한) 충족 여부를 제안서에 명시해야 하나, 조건 누락·오기로 탈락하는 사례가 발생한다.
* **입찰 전략 정보 부재:** 과거 낙찰 데이터(낙찰가·참여 업체 수·경쟁사 투찰가 범위)에 대한 체계적 접근 수단이 없어 감(感)에 의존한 투찰가 책정이 이루어지며, 이로 인해 낙찰률이 저하되거나 수익성이 악화된다.

### 제품 목표
* 나라장터 공공입찰 공고를 24시간 자동 모니터링하고, 업체 등록 조건(면허·실적·지역·금액)과 AI 매칭 스코어링을 통해 적격 공고만 선별하여 메신저(슬랙·카카오톡)로 즉시 푸시함으로써 공고 탐색 시간을 90% 이상 단축한다.
* RFP 자동 파싱과 RAG 기반 기존 제안서 DB 참조를 통해 목차·본문·가격 전략까지 포함된 제안서 초안을 수 분 내 자동 생성하여, 담당자가 검토·수정에만 집중할 수 있도록 한다.
* 과거 낙찰 데이터 기반 ML 모델로 공고별 낙찰 확률 점수 및 경쟁사 추정 투찰가 범위를 제시하여 데이터 기반 투찰 전략 수립을 지원한다.
* 입찰 준비 시간 90% 단축을 정량적 목표로 한다.

---

## 3. 대상 사용자

* **주 사용층:** 나라장터에 등록된 중소 건설사·SI업체·제조 납품업체 중 공공 조달 매출 비중 30% 이상인 기업의 입찰 담당자. 소규모 업체(1~50인)에서 입찰 업무를 겸임하는 담당자가 핵심 사용자이며, 전담 제안서 작성 인력이 부재한 경우가 많다.
* **사용 환경:** 웹(데스크톱·태블릿 반응형) 중심의 대시보드 + 슬랙·카카오톡 메신저 알림. 별도 앱 설치 불필요하며, 메신저 내 '자세히 보기' 클릭 시 웹 대시보드 해당 공고 페이지로 딥링크 연결.
* **기술 숙련도:** 비개발자 / 일반 사무직 수준. 프롬프트 엔지니어링 역량이 없는 중소기업 담당자를 기준으로 설계하며, 온보딩 목표 소요 시간은 30분 이내.

---

## 4. 핵심 요구사항

### 사용자 스토리 (User Stories)

* **US-01:** 입찰 담당자는 매일 수천 건의 공고를 수동으로 확인하는 시간을 줄이기 위해, 나라장터 신규 공고가 5분 이내 주기로 자동 수집되고 자사 조건에 맞는 공고만 필터링되어 알림을 받을 수 있어야 한다.
* **US-02:** 입찰 담당자는 자사가 참여 가능한 공고인지 빠르게 판단하기 위해, 면허·실적·지역·금액·업종코드 등 복합 조건과 제한입찰 3대 조건(실적제한·지역제한·중소기업자제한)이 자동으로 매칭·스코어링(0~100점)되어 표시될 수 있어야 한다.
* **US-03:** 입찰 담당자는 유망 공고를 놓치지 않기 위해, 매칭 스코어 상위 N건의 공고 요약(공고명·발주기관·추정가격·마감일·매칭 점수)을 슬랙 또는 카카오톡으로 즉시 수신할 수 있어야 한다.
* **US-04:** 입찰 담당자는 제안서 작성 시간을 대폭 줄이기 위해, 선택한 공고의 RFP(PDF·HWP·DOCX)가 자동으로 파싱되어 평가 항목·배점·필수 요구사항·제출 서류 목록·일정 등이 구조화된 형태로 제시될 수 있어야 한다.
* **US-05:** 입찰 담당자는 제안서 초안 작성의 부담을 줄이기 위해, RFP 파싱 결과와 자사 기존 제안서 DB를 참조한 RAG 기반 제안서 초안(목차·섹션별 본문·가격 전략 포함)이 자동 생성될 수 있어야 한다.
* **US-06:** 입찰 담당자는 생성된 제안서 초안을 즉시 수정·보완하기 위해, 웹 기반 WYSIWYG 편집기에서 인라인 편집을 하고 HWP·DOCX·PDF 형식으로 내보낼 수 있어야 한다.
* **US-07:** 입찰 담당자는 자사 정보를 시스템에 등록하여 매칭 정확도를 높이기 위해, 면허 종류·보유 실적 금액·지역·희망 금액대·업종코드 및 기존 제안서(최대 50건)를 업로드·관리할 수 있어야 한다.
* **US-08:** 입찰 담당자는 AI의 판단 근거를 확인하고 감사 대비 투명성을 확보하기 위해, 매칭 스코어 산출 피처별 기여도, RFP 파싱 결과의 원문 대조, 제안서 초안 생성 시 참조 소스 문서 링크를 열람할 수 있어야 한다.

### 기능적 요구사항 (Functional Requirements)

* **FR-01 (실시간 공고 모니터링):** 시스템은 나라장터 공공데이터 API와 웹 크롤링을 병행하여 시설공사·용역·물품 3대 카테고리의 신규 공고를 5분 이내 주기로 24시간 자동 수집하고, 수집된 공고 데이터를 메시지 큐를 통해 매칭 엔진으로 전달해야 한다.
* **FR-02 (스마트 매칭 스코어링):** 시스템은 고객사 등록 조건(면허 종류·보유 실적 금액·지역·희망 금액대·업종코드)과 공고 조건을 비교하여 0~100점의 다차원 매칭 점수를 산출해야 한다. 판로지원법·지방계약법을 반영한 룰 엔진으로 제한입찰 3대 조건(실적제한·지역제한·중소기업자제한) 적격 여부를 자동 판별해야 한다.
* **FR-03 (메신저 자동 알림):** 시스템은 매칭 스코어 상위 N건을 슬랙 Incoming Webhook 및 카카오톡 알림톡 API를 통해 카드형 요약 메시지(공고명·발주기관·추정가격·마감일·매칭 점수)로 즉시 푸시해야 한다. 사용자가 알림 빈도·시간대·채널을 커스터마이징할 수 있어야 한다.
* **FR-04 (RFP 자동 파싱):** 시스템은 선택된 공고의 첨부파일(PDF·HWP·DOCX)을 자동 다운로드하고, OCR 및 NLP 기반 구조화 파싱을 수행하여 평가 항목·배점·필수 요구사항·제출 서류 목록·일정 등 핵심 요소를 추출하고 테이블 형태로 정리해야 한다.
* **FR-05 (제안서 초안 자동 생성):** 시스템은 RFP 파싱 결과 + 고객사 기존 제안서 DB(RAG 벡터DB 참조) + 업체 프로파일(면허·실적·레퍼런스 프로젝트)을 기반으로 목차 구성 → 섹션별 본문 초안 → 가격 전략 제안까지 자동 생성해야 한다. 평가 배점 가중치에 맞춘 분량 자동 배분을 포함해야 한다.
* **FR-06 (웹 편집 UI):** 시스템은 생성된 제안서 초안에 대해 WYSIWYG 인라인 편집(기본 포맷팅)을 제공해야 하며, HWP·DOCX·PDF 형식으로 내보내기가 가능해야 한다.
* **FR-07 (업체 프로파일 관리):** 시스템은 고객사의 면허·실적·지역·희망 금액대·업종코드·레퍼런스 프로젝트 정보를 입력·수정·관리할 수 있는 UI를 제공해야 한다. 기존 제안서 PDF/HWP 업로드(최대 50건) 시 벡터DB에 자동 인덱싱해야 한다.
* **FR-08 (감사 로그 — 기본):** 시스템은 매칭 스코어 산출 피처별 기여도, RFP 파싱 결과의 원문 대조, 제안서 초안 생성 시 참조 소스 문서 링크를 기록하고 사용자가 열람할 수 있어야 한다.
* **FR-09 (회원가입 및 인증):** 시스템은 이메일·사업자번호 기반 회원가입, 로그인, 비밀번호 재설정 기능을 제공해야 하며, 역할 기반 접근 제어(RBAC)를 적용해야 한다.
* **FR-10 (결제 시스템):** 시스템은 스타터(월 29만 원)·프로(월 59만 원) 요금제 선택 및 PG(토스페이먼츠/나이스페이) 연동을 통한 결제·해지·요금제 변경 기능을 제공해야 한다.

### 비기능적 요구사항 (Non-Functional Requirements)

* **NFR-01 (성능 — 공고 수집):** 나라장터 공고 수집 주기는 5분 이내이며, 수집 후 매칭 스코어링 완료까지 공고 1건당 처리 시간은 10초 이내여야 한다.
* **NFR-02 (성능 — 제안서 생성):** 제안서 초안 생성 평균 소요 시간은 10분 이내여야 한다(Phase 1 KPI 기준).
* **NFR-03 (보안):** SSL/TLS 암호화를 적용하고, 고객 데이터는 AWS 서울 리전에 저장하며, 접근 권한은 RBAC으로 제어해야 한다. 감사 로그는 최소 5년 보관해야 한다.
* **NFR-04 (가용성):** 서비스 업타임 99.5% 이상을 유지해야 한다(Phase 1 기준, Phase 3 엔터프라이즈 플랜은 99.9%).
* **NFR-05 (확장성):** Phase 1 기준 동시 접속 사용자 500명, 일 공고 수집량 전 카테고리 95% 이상 커버를 지원해야 한다.
* **NFR-06 (호환성):** 웹 대시보드는 Chrome, Edge, Safari 최신 2개 버전을 지원하며, 데스크톱·태블릿 반응형 레이아웃을 제공해야 한다.
* **NFR-07 (컴플라이언스):** 개인정보처리방침·이용약관 법무 검토 완료 후 출시하며, 나라장터 API 이용 약관을 준수해야 한다.

---

## 5. 인수 조건 (Acceptance Criteria)

**AC-01 (FR-01 — 실시간 공고 모니터링):**
* **Given:** 나라장터에 시설공사·용역·물품 카테고리의 신규 공고가 게시된 상태에서
* **When:** 시스템의 수집 파이프라인이 자동 실행되면
* **Then:** 해당 공고가 게시 후 5분 이내에 수집되어 내부 데이터베이스에 저장되고, 매칭 엔진으로 전달되어야 한다.

**AC-02 (FR-01 — 수집 이중화):**
* **Given:** 나라장터 API가 일시적으로 응답하지 않는 상태에서
* **When:** 수집 파이프라인이 API 호출 실패를 감지하면
* **Then:** 자동으로 웹 크롤러 기반 보완 수집으로 전환되어 공고 수집이 중단 없이 계속되어야 한다.

**AC-03 (FR-02 — 스마트 매칭 스코어링):**
* **Given:** 고객사가 업체 프로파일에 면허 종류·보유 실적 금액·지역·희망 금액대·업종코드를 등록한 상태에서
* **When:** 신규 공고가 수집되어 매칭 엔진에 입력되면
* **Then:** 0~100점의 매칭 점수가 산출되고, 제한입찰 3대 조건(실적제한·지역제한·중소기업자제한)에 대한 적격/부적격 판별 결과가 함께 표시되어야 한다.

**AC-04 (FR-02 — 부적격 필터링):**
* **Given:** 공고가 지역제한입찰(예: 특정 광역자치단체 소재 업체만 참여 가능)인 상태에서
* **When:** 고객사 소재지가 해당 지역이 아닌 경우
* **Then:** 매칭 결과에 '지역제한 부적격'으로 명시되고, 알림 대상에서 자동 제외되어야 한다.

**AC-05 (FR-03 — 메신저 자동 알림):**
* **Given:** 고객사가 슬랙 웹훅 URL을 등록하고 알림 설정(상위 5건, 오전 9시~오후 6시)을 완료한 상태에서
* **When:** 매칭 스코어 상위 5건의 적격 공고가 산출되면
* **Then:** 설정된 시간대 내에 슬랙 채널로 카드형 요약 메시지(공고명·발주기관·추정가격·마감일·매칭 점수)가 푸시되고, 각 카드에 웹 대시보드 해당 공고 페이지로의 딥링크가 포함되어야 한다.

**AC-06 (FR-04 — RFP 자동 파싱):**
* **Given:** 담당자가 대시보드에서 특정 공고를 선택하고 RFP 파싱을 요청한 상태에서
* **When:** 해당 공고에 HWP 형식의 제안요청서가 첨부되어 있으면
* **Then:** 시스템이 HWP 파일을 자동 다운로드하고 파싱하여 평가 항목·배점·필수 요구사항·제출 서류 목록·일정을 구조화된 테이블 형태로 화면에 표시해야 한다. 파싱 정확도는 75% 이상이어야 한다.

**AC-07 (FR-05 — 제안서 초안 자동 생성):**
* **Given:** RFP 파싱이 완료되고, 고객사가 기존 제안서 3건 이상을 벡터DB에 업로드한 상태에서
* **When:** 담당자가 '제안서 초안 생성' 버튼을 클릭하면
* **Then:** 10분 이내에 목차·섹션별 본문·가격 전략을 포함한 제안서 초안이 웹 편집기에 로딩되어야 하며, 평가 배점 가중치에 비례한 섹션별 분량 배분이 적용되어야 한다.

**AC-08 (FR-06 — 웹 편집 UI 및 내보내기):**
* **Given:** 제안서 초안이 웹 편집기에 로딩된 상태에서
* **When:** 담당자가 특정 섹션의 텍스트를 수정하고 'HWP로 내보내기' 버튼을 클릭하면
* **Then:** 수정된 내용이 반영된 HWP 파일이 다운로드되어야 하며, 원본 서식(표·목차 구조)이 유지되어야 한다.

**AC-09 (FR-07 — 업체 프로파일 및 제안서 업로드):**
* **Given:** 신규 가입 사용자가 온보딩 과정에 진입한 상태에서
* **When:** 면허·실적·지역·희망 금액대를 입력하고 기존 제안서 PDF 10건을 업로드하면
* **Then:** 업체 프로파일이 저장되고, 업로드된 제안서가 벡터DB에 인덱싱 완료되어 RAG 파이프라인에서 참조 가능한 상태가 되어야 하며, 전체 온보딩 소요 시간이 30분 이내여야 한다.

**AC-10 (FR-08 — 감사 로그 열람):**
* **Given:** 시스템이 특정 공고에 대해 매칭 스코어를 산출한 상태에서
* **When:** 담당자가 해당 공고의 감사 로그 열람 버튼을 클릭하면
* **Then:** 매칭 스코어 산출에 사용된 피처별 기여도(면허·실적·지역·금액 등 각 항목의 점수 기여분)가 표시되어야 한다.

**AC-11 (FR-09 — 회원가입):**
* **Given:** 사용자가 회원가입 페이지에 접속한 상태에서
* **When:** 이메일·비밀번호·사업자번호를 입력하고 가입 버튼을 클릭하면
* **Then:** 인증 이메일이 발송되고, 이메일 인증 완료 후 로그인이 가능해야 한다.

**AC-12 (FR-10 — 결제):**
* **Given:** 무료 체험 기간(14일)이 종료된 사용자가 요금제 선택 페이지에 접속한 상태에서
* **When:** 스타터 플랜(월 29만 원)을 선택하고 PG 결제를 완료하면
* **Then:** 결제 확인 후 즉시 유료 기능(모니터링+매칭+알림+RFP 파싱+제안서 생성 월 5건)이 활성화되고, 결제 영수증이 이메일로 발송되어야 한다.

---

## 6. 제외 범위 (Out of Scope)

* **낙찰 가능성 예측 (F7):** 과거 낙찰 데이터 기반 ML 모델의 낙찰 확률 점수·경쟁사 추정 투찰가 범위 제시 기능은 Phase 2(M10~M15)에서 구현하며 MVP에 포함하지 않는다.
* **SHAP 기반 고급 감사 로그:** 낙찰 예측 모델의 피처 가중치(SHAP) 기반 설명 기능은 Phase 2에서 낙찰 예측 모델과 함께 구현한다.
* **팀 공동 편집:** WebSocket 기반 실시간 동시 편집(최대 5인), 버전 관리(20 스냅샷), AI 재생성·톤 조정·분량 조절 인라인 기능은 Phase 2에서 구현한다.
* **대시보드·리포팅 (F9):** 월별 입찰 현황·낙찰률·ROI 분석 대시보드, 업종별·지역별 트렌드 차트, PDF 리포트 자동 생성은 Phase 2에서 구현한다.
* **성과 수수료 자동 정산:** 낙찰 성공 시 계약금액 0.3% 자동 정산 모듈은 Phase 2에서 구현한다.
* **하도급·컨소시엄 매칭 서비스:** 원도급-전문건설·하도급 업체 매칭, 컨소시엄 공동 작업 공간은 Phase 3(M16~M27)에서 구현한다.
* **외부 SaaS 연동:** 회계·세무 SaaS(더존비즈온·웹케시), RPA 도구(Zapier·Make·Power Automate), 법무·계약 관리 SaaS 연동은 Phase 3에서 구현한다.
* **데이터 인텔리전스 상품:** 업종별 낙찰 동향 리포트 판매, B2B 데이터 API 라이선싱, 화이트라벨 대시보드는 Phase 4(M28~M39)에서 구현한다.
* **해외 시장 진출:** 베트남·인도네시아 전자조달시스템 연동 및 현지 언어 NLP 모델은 Phase 4에서 구현한다.
* **입찰보증·금융 연계 서비스:** 핀테크·보험사 파트너십 기반 연계 상품은 Phase 4에서 구현한다.
* **엔터프라이즈 플랜:** 전용 인스턴스·SLA 99.9%·SSO·커스텀 API 연동·전담 CSM은 Phase 3에서 출시한다.
* **모바일 네이티브 앱:** 별도 iOS/Android 앱 개발은 전체 로드맵에 포함되지 않으며, 반응형 웹 + 메신저 알림으로 대체한다.

---

## 7. 사용자 플로우 (User Flow)

**메인 플로우:**

1. **회원가입·온보딩:** 사용자가 랜딩 페이지에 접속하여 이메일·사업자번호로 회원가입 → 이메일 인증 완료 → 업체 정보 입력(면허 종류·보유 실적 금액·지역·희망 금액대·업종코드) → 기존 제안서 PDF/HWP 업로드(선택, 최대 50건) → 메신저 웹훅(슬랙 또는 카카오톡) 연결 → 온보딩 완료 (목표: 30분 이내)
2. **공고 알림 수신:** 시스템이 나라장터 공고를 5분 주기로 자동 수집 → 업체 조건과 매칭 스코어링 수행 → 상위 N건의 적격 공고가 설정된 메신저 채널로 카드형 요약 메시지 푸시
3. **공고 상세 확인:** 담당자가 메신저 알림 내 '자세히 보기' 딥링크를 클릭하거나 웹 대시보드에서 공고 목록(매칭 점수순 정렬)을 탐색하여 관심 공고 선택
4. **RFP 파싱 실행:** 선택한 공고 상세 페이지에서 'RFP 분석' 버튼 클릭 → 시스템이 첨부파일(PDF·HWP·DOCX) 자동 다운로드 및 구조화 파싱 수행 → 평가 항목·배점·필수 요구사항·제출 서류 목록·일정이 테이블 형태로 화면에 표시
5. **제안서 초안 생성:** 파싱 결과 확인 후 '제안서 초안 생성' 버튼 클릭 → 시스템이 RAG 파이프라인을 통해 기존 제안서 DB 참조 + 업체 프로파일 반영하여 목차·섹션별 본문·가격 전략 포함 초안 생성 (10분 이내)
6. **제안서 편집:** 웹 WYSIWYG 편집기에서 초안 검토·수정 → 최종 확정
7. **제안서 내보내기:** HWP·DOCX·PDF 형식 선택 후 내보내기 → 다운로드된 파일을 나라장터에 제출
8. **감사 로그 확인:** 필요 시 해당 공고의 감사 로그 열람 → 매칭 스코어 산출 근거, RFP 파싱 원문 대조, 제안서 초안 참조 소스 확인

**엣지 케이스:**

* **RFP 첨부파일 없음:** 공고에 제안요청서 첨부파일이 없는 경우, 'RFP 파싱 불가 — 첨부파일이 없습니다' 안내 메시지를 표시하고, 사용자가 직접 파일을 업로드할 수 있는 수동 업로드 옵션을 제공한다.
* **HWP 파싱 실패:** 파싱 정확도가 기준 이하이거나 파싱에 실패한 경우, '파싱 결과 정확도가 낮을 수 있습니다. 원본 문서를 함께 확인해 주세요' 경고를 표시하고 원본 파일 다운로드 링크를 제공한다.
* **기존 제안서 미업로드 상태:** RAG 참조 DB가 비어 있는 경우, 범용 템플릿 기반 초안을 생성하되 '기존 제안서를 업로드하면 품질이 향상됩니다' 안내 배너를 표시한다.
* **스타터 플랜 월 5건 초과:** 월 제안서 생성 한도 5건 소진 시, '이번 달 제안서 생성 한도에 도달했습니다' 메시지와 함께 프로 플랜 업그레이드 또는 건당 추가 과금(5만 원) 안내를 표시한다.
* **매칭 결과 0건:** 등록된 조건에 매칭되는 공고가 없는 경우, '현재 조건에 맞는 신규 공고가 없습니다' 빈 상태(Empty State) 화면을 표시하고, 조건 완화 또는 수정 유도 링크를 제공한다.
* **메신저 웹훅 연결 실패:** 웹훅 URL 유효성 검증 실패 시, '웹훅 연결에 실패했습니다. URL을 확인해 주세요' 오류 메시지와 재시도 버튼을 표시한다.

---

## 8. 데이터 모델 (Data Model)

**Company (업체 프로파일)**

| 필드명 | 타입 | 설명 |
|--------|------|------|
| id | string (UUID) | 고유 식별자 |
| business_number | string | 사업자등록번호 |
| company_name | string | 업체명 |
| licenses | json (array) | 보유 면허 종류 목록 |
| track_record_amount | bigint | 보유 실적 금액 (원) |
| region | string | 소재 지역 (광역자치단체) |
| preferred_amount_range | json | 희망 금액대 (최소·최대) |
| industry_codes | json (array) | 업종코드 목록 |
| created_at | timestamp | 생성일시 |
| updated_at | timestamp | 수정일시 |

**User (사용자)**

| 필드명 | 타입 | 설명 |
|--------|------|------|
| id | string (UUID) | 고유 식별자 |
| company_id | string (FK) | 소속 업체 ID |
| email | string | 이메일 (로그인 ID) |
| password_hash | string | 비밀번호 해시 |
| role | enum | 역할 (admin / member) |
| created_at | timestamp | 생성일시 |

**Tender (공고)**

| 필드명 | 타입 | 설명 |
|--------|------|------|
| id | string (UUID) | 고유 식별자 |
| nara_id | string | 나라장터 공고 고유번호 |
| title | string | 공고명 |
| issuing_org | string | 발주기관 |
| category | enum | 카테고리 (시설공사 / 용역 / 물품) |
| estimated_price | bigint | 추정가격 (원) |
| deadline | timestamp | 입찰 마감일시 |
| region | string | 공고 지역 |
| restriction_type | json | 제한입찰 조건 (실적제한·지역제한·중소기업자제한) |
| attachments | json (array) | 첨부파일 URL 목록 |
| raw_data | json | 원본 수집 데이터 |
| collected_at | timestamp | 수집일시 |
| source | enum | 수집 출처 (API / Crawler) |

**MatchScore (매칭 결과)**

| 필드명 | 타입 | 설명 |
|--------|------|------|
| id | string (UUID) | 고유 식별자 |
| tender_id | string (FK) | 공고 ID |
| company_id | string (FK) | 업체 ID |
| total_score | integer | 총 매칭 점수 (0~100) |
| score_breakdown | json | 피처별 점수 기여도 상세 |
| eligibility | json | 제한입찰 3대 조건 적격 판별 결과 |
| created_at | timestamp | 산출일시 |

**RFPParsing (RFP 파싱 결과)**

| 필드명 | 타입 | 설명 |
|--------|------|------|
| id | string (UUID) | 고유 식별자 |
| tender_id | string (FK) | 공고 ID |
| evaluation_items | json (array) | 평가 항목·배점 구조화 데이터 |
| requirements | json (array) | 필수 요구사항 목록 |
| documents_required | json (array) | 제출 서류 목록 |
| schedule | json | 일정 정보 |
| source_file_url | string | 원본 파일 URL |
| accuracy_flag | boolean | 파싱 정확도 경고 여부 |
| created_at | timestamp | 파싱 완료일시 |

**Proposal (제안서)**

| 필드명 | 타입 | 설명 |
|--------|------|------|
| id | string (UUID) | 고유 식별자 |
| tender_id | string (FK) | 공고 ID |
| company_id | string (FK) | 업체 ID |
| user_id | string (FK) | 작성자 ID |
| rfp_parsing_id | string (FK) | RFP 파싱 결과 ID |
| content | json | 제안서 초안 내용 (목차·섹션별 본문·가격 전략) |
| status | enum | 상태 (draft / editing / finalized / exported) |
| referenced_sources | json (array) | RAG 참조 소스 문서 ID 목록 |
| created_at | timestamp | 생성일시 |
| updated_at | timestamp | 수정일시 |

**ProposalDocument (기존 제안서 DB)**

| 필드명 | 타입 | 설명 |
|--------|------|------|
| id | string (UUID) | 고유 식별자 |
| company_id | string (FK) | 업체 ID |
| file_name | string | 파일명 |
| file_url | string | 저장 경로 (S3) |
| file_type | enum | 파일 형식 (PDF / HWP / DOCX) |
| vector_indexed | boolean | 벡터DB 인덱싱 완료 여부 |
| uploaded_at | timestamp | 업로드일시 |

**AuditLog (감사 로그)**

| 필드명 | 타입 | 설명 |
|--------|------|------|
| id | string (UUID) | 고유 식별자 |
| company_id | string (FK) | 업체 ID |
| tender_id | string (FK) | 공고 ID |
| action_type | enum | 로그 유형 (matching / rfp_parsing / proposal_generation) |
| details | json | 판단 근거 상세 (피처 기여도, 원문 대조, 참조 소스 등) |
| created_at | timestamp | 기록일시 |

**Notification (알림 설정)**

| 필드명 | 타입 | 설명 |
|--------|------|------|
| id | string (UUID) | 고유 식별자 |
| company_id | string (FK) | 업체 ID |
| channel_type | enum | 채널 유형 (slack / kakaotalk) |
| webhook_url | string | 웹훅 URL |
| top_n | integer | 알림 대상 상위 공고 수 |
| time_start | time | 알림 허용 시작 시간 |
| time_end | time | 알림 허용 종료 시간 |
| is_active | boolean | 활성 여부 |

**Subscription (구독·결제)**

| 필드명 | 타입 | 설명 |
|--------|------|------|
| id | string (UUID) | 고유 식별자 |
| company_id | string (FK) | 업체 ID |
| plan | enum | 요금제 (starter / pro / enterprise) |
| status | enum | 상태 (trial / active / canceled / expired) |
| monthly_proposal_count | integer | 이번 달 제안서 생성 건수 |
| billing_key | string | PG 결제 키 |
| started_at | timestamp | 구독 시작일 |
| expires_at | timestamp | 구독 만료일 |

---

## 9. API 엔드포인트 (주요 목록)

| 메서드 | 경로 | 설명 | 인증 필요 |
|--------|------|------|----------|
| POST | /api/auth/signup | 회원가입 (이메일·사업자번호·비밀번호) | N |
| POST | /api/auth/login | 로그인 (JWT 토큰 발급) | N |
| POST | /api/auth/password-reset | 비밀번호 재설정 요청 | N |
| GET | /api/company/profile | 업체 프로파일 조회 | Y |
| PUT | /api/company/profile | 업체 프로파일 수정 (면허·실적·지역·금액대·업종코드) | Y |
| POST | /api/company/documents | 기존 제안서 파일 업로드 (PDF/HWP, 최대 50건) | Y |
| GET | /api/company/documents | 업로드된 제안서 파일 목록 조회 | Y |
| DELETE | /api/company/documents/:id | 업로드된 제안서 파일 삭제 | Y |
| GET | /api/tenders | 공고 목록 조회 (매칭 점수순 정렬, 필터링·페이지네이션) | Y |
| GET | /api/tenders/:id | 공고 상세 조회 (매칭 점수·적격 판별 결과 포함) | Y |
| POST | /api/tenders/:id/parse-rfp | 선택 공고 RFP 자동 파싱 요청 | Y |
| GET | /api/tenders/:id/rfp-result | RFP 파싱 결과 조회 (평가항목·배점·요구사항·일정) | Y |
| POST | /api/tenders/:id/generate-proposal | 제안서 초안 자동 생성 요청 | Y |
| GET | /api/proposals/:id | 제안서 초안 조회 | Y |
| PUT | /api/proposals/:id | 제안서 초안 수정 (편집기 내용 저장) | Y |
| POST | /api/proposals/:id/export | 제안서 내보내기 (HWP/DOCX/PDF 형식 지정) | Y |
| GET | /api/tenders/:id/audit-log | 공고별 감사 로그 조회 (매칭·파싱·생성 판단 근거) | Y |
| GET | /api/notifications/settings | 알림 설정 조회 | Y |
| PUT | /api/notifications/settings | 알림 설정 수정 (채널·상위 N건·시간대) | Y |
| POST | /api/notifications/test | 알림 테스트 발송 | Y |
| GET | /api/subscriptions | 구독 정보·결제 상태 조회 | Y |
| POST | /api/subscriptions | 요금제 구독 신청 (PG 결제 연동) | Y |
| PUT | /api/subscriptions | 요금제 변경 | Y |
| DELETE | /api/subscriptions | 구독 해지 | Y |

---

## 10. 우선순위 (Priority)

| 기능 | 우선순위 | 근거 |
|------|---------|------|
| FR-01 실시간 공고 모니터링 | P0 | 서비스의 데이터 수집 기반이며 모든 후속 기능의 전제 조건. 공고 수집 없이는 매칭·제안서 생성이 불가. |
| FR-02 스마트 매칭 스코어링 | P0 | 공고 탐색 시간 90% 단축이라는 핵심 가치를 실현하는 핵심 기능. 제한입찰 조건 자동 해석이 경쟁 대안과의 핵심 차별점. |
| FR-03 메신저 자동 알림 | P0 | 별도 앱 설치 없이 기존 업무 채널에서 알림 수신하는 도입 마찰 최소화 기능. MVP의 사용자 경험 완결에 필수. |
| FR-07 업체 프로파일 관리 | P0 | 매칭 스코어링 및 RAG 기반 제안서 생성의 입력 데이터 관리 기능으로 온보딩 필수 구성 요소. |
| FR-09 회원가입 및 인증 | P0 | 서비스 이용의 기본 인프라. |
| FR-04 RFP 자동 파싱 | P0 | 제안서 초안 생성의 직접 입력 데이터를 산출하는 기능. 제안서 작성 부담 해소라는 핵심 가치에 필수. |
| FR-05 제안서 초안 자동 생성 | P0 | 입찰 준비 시간 90% 단축의 핵심 메커니즘. 유료 전환의 가장 강력한 가치 제안 포인트. |
| FR-06 웹 편집 UI | P0 | 생성된 초안의 검토·수정·내보내기를 통해 실제 나라장터 제출까지의 워크플로우를 완결. |
| FR-10 결제 시스템 | P0 | 유료 전환 및 수익 창출의 기반 인프라. MVP 출시(M9)와 동시에 필요. |
| FR-08 감사 로그 (기본) | P1 | 공공 입찰 투명성 확보에 중요하나, 기본 수준(매칭·파싱·생성 참조 소스)은 런치 직후 1개월 내 완성 가능. MVP 런치 시점에 최소 매칭 근거 표시는 포함하되, 전 과정 감사 뷰어 UI는 P1으로 분류. |

---

## 11. 성공 지표 (Metrics & KPI)

* **KPI-01 (베타 고객 확보):** 클로즈드 베타(M8~M9) 기간 내 50사 참여 달성
* **KPI-02 (유료 전환율):** 베타 고객 대비 유료 전환율 30% 이상 (15사 이상)
* **KPI-03 (1년 차 유료 고객):** MVP 출시 후 12개월 내 유료 고객 500사 도달
* **KPI-04 (공고 수집 커버리지):** 나라장터 시설공사·용역·물품 전 카테고리 일 수집 공고 수 95% 이상 커버
* **KPI-05 (제안서 생성 소요 시간):** 제안서 초안 생성 평균 소요 시간 10분 이내
* **KPI-06 (제안서 초안 품질):** 도메인 전문가 만족도 평가 3.5/5.0 이상 (Phase 1 기준)
* **KPI-07 (고객 만족도):** NPS(순추천지수) 30 이상 (Phase 1 종료 시점)
* **KPI-08 (월 BEP 달성):** MVP 출시 후 6~9개월 내 월 단위 손익분기 도달 (유료 고객 약 110~130사)
* **KPI-09 (매칭 정확도):** 매칭 스코어링 정확도 80% 이상 (도메인 전문가 평가 기준)
* **KPI-10 (RFP 파싱 정확도):** RFP 구조화 파싱 정확도 75% 이상

---

## 12. 기술 스택 제안

* **프론트엔드:** React / Next.js 기반 반응형 웹 애플리케이션. 제안서 편집기는 TipTap(ProseMirror 기반) 리치 텍스트 에디터 활용. 사업기획서에서 Chart.js/D3.js 기반 시각화를 명시하고 있으나, Phase 1 MVP에서는 기본 공고 목록·프로파일·편집기에 집중.
* **백엔드:** Node.js 또는 Python(FastAPI) 기반 REST API 서버. 나라장터 API 연동 및 웹 크롤링 파이프라인은 Scrapy/Playwright 활용. 메시지 큐는 Kafka 또는 RabbitMQ로 수집-매칭 파이프라인 비동기 처리.
* **데이터베이스:** PostgreSQL (업체·공고·매칭·제안서 등 관계형 데이터), 벡터DB는 Pinecone 또는 Weaviate (RAG 파이프라인용 기존 제안서 임베딩 저장·검색), Elasticsearch (감사 로그 저장·검색).
* **AI/ML:** LLM은 GPT-4o / Claude 3.5 (제안서 초안 생성, RFP NLP 파싱). RAG 파이프라인은 벡터DB + LLM 조합. RFP 파싱은 Apache Tika / HWP 전용 파서 + Tesseract OCR + LLM 후처리. 매칭 스코어링은 룰 엔진(판로지원법·지방계약법 반영) + ML 기반 가중치 학습.
* **인프라:** AWS 서울 리전 (EC2 / RDS / S3 / Lambda). CI/CD는 GitHub Actions 또는 GitLab CI. 개발·스테이징·프로덕션 환경 분리. SSL/TLS 암호화, RBAC 접근 제어.
* **외부 API:** 나라장터 공공데이터 API (공고 수집), 슬랙 Incoming Webhook API (알림), 카카오톡 알림톡 API (알림), 토스페이먼츠 또는 나이스페이 PG API (결제), OpenAI API / Anthropic API (LLM), LibreOffice 서버 (HWP 변환·내보내기).