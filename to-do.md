# SaaS 사업기획안 도출 서비스 - To-Do 리스트

## 바로 다음 할 일

- [x] **아이디어 생성 강화** ✅ 완료
  - ~~검색 엔진을 DuckDuckGo → Tavily로 교체~~ ✅ 완료
  - ~~검색 쿼리를 더 상세하고 명확하게 개선 (근거 있는 시장 데이터 확보)~~ ✅ 완료

- [ ] **사업기획서 생성 강화 — 에이전트 팀 구조 도입**
  - 현재: 단일 LLM이 13개 섹션을 한 번에 생성 → 섹션별 품질이 모델 능력에 전적으로 의존
  - 목표: 섹션별 전문 에이전트가 전용 검색 + 전용 프롬프트로 담당 구역 심화 작성
  - 실행 흐름 (병렬 가능한 에이전트끼리 묶음):
    ```
    Round 1 (병렬):
      Agent 1 — 시장/트렌드  →  섹션 2(트렌드), 섹션 8(TAM/SAM/SOM)
                               전용 검색: 시장 규모·성장률·투자 현황
      Agent 2 — 경쟁 분석    →  섹션 5(경쟁사 비교표), 섹션 6(차별화)
                               전용 검색: 경쟁사 가격·기능·리뷰
    Round 2 (병렬, Round 1 결과 컨텍스트로 수신):
      Agent 3 — 재무 모델    →  섹션 11(사업 모델), 섹션 12(사업 전망)
                               전용 검색: 유사 SaaS 가격 책정·수익 사례
      Agent 4 — 서비스 기획  →  섹션 3(문제 정의), 섹션 4(솔루션), 섹션 7(플랫폼), 섹션 9(로드맵)
    Round 3:
      Agent 5 — 리스크       →  섹션 13(리스크 분석)
                               전용 검색: 규제·법률·진입 장벽
    최종:
      Combiner              →  섹션 1(핵심 요약) + 참고문헌 통합 조립
    ```
  - 예상 효과: 현재 ~75초 → 병렬화로 ~50~60초, 품질은 섹션별 대폭 향상
  - 비용 고려: 에이전트별 Claude Haiku 사용, 최종 통합만 Sonnet 사용 권장
  - 상세 설계: `plan.md` 단계 4 참고

- [ ] **PRD 변환 단계 추가**
  - 사업기획서 완료 후 PRD(Product Requirements Document) 초안 자동 생성 단계 추가
  - 워크플로우: 사업기획서 → (의사결정) → PRD 생성
  - PRD 포함 항목: 사용자 스토리, 화면/기능 명세, API 엔드포인트, 수용 기준(AC), 우선순위(P0/P1/P2), 데이터 모델
  - 결과물을 "읽는 문서"가 아닌 "AI 개발에 바로 쓰는 문서"로 출력

- [ ] **AI 모델 연결**
  - [x] Ollama (gemma2:9b) — 로컬, 기본값
  - [x] Claude (claude-sonnet-4-6) — ANTHROPIC_API_KEY 설정 완료
  - [ ] Gemini (gemini-2.0-flash) — GEMINI_API_KEY 필요
  - [ ] OpenAI (gpt-4o) — OPENAI_API_KEY 필요

- [ ] **전체 UI 개선**
  - 메인 페이지 UI와 디자인을 참고할 수 있는 10개의 웹페이지를 찾아서 검토
  - 선정 페이지의 global CSS 추출해서 이 서비스 페이지 디자인에 반영

- [ ] **분석 중 표시 개선**
  - 현재 단순 스피너 + 고정 텍스트 → 진행 상황을 구체적으로 알려주는 방식으로 교체
  - 전체 중 몇 % 진행 중인지 표시 (프로그레스 바 또는 단계 카운터)

- [x] **결과 화면 UI 디버그** ✅ 완료
  - ~~폰트 크기·굵기 불일치 수정~~
  - ~~줄바꿈 깨지는 부분 수정~~

---

## 현재 구현 상태 (MVP)

| 기능 | 상태 |
|------|------|
| 키워드 입력 | ✅ 완료 |
| 아이디어 3개 도출 (Ollama) | ✅ 완료 |
| 아이디어 선택 UI | ✅ 완료 |
| 사업기획서 작성 | ✅ 완료 |
| 마크다운 파일 저장 | ✅ 완료 |

---

## 남은 작업 목록

### Phase 1: 기능 개선 (우선순위 높음)

- [x] **한국어 출력 품질 개선**
  - ~~현재 llama3.2가 영어/다국어를 섞어서 출력~~
  - gemma2:9b 모델로 변경 완료

- [x] **"모두 진행 중단" 옵션 추가**
  - 의사결정 단계에서 종료할 수 있는 버튼 추가

- [x] **인터넷 검색 기능 추가**
  - 기획팀장 단계: 키워드로 인터넷 검색 후 분석
  - 사업전략기획자 단계: 근거 자료와 링크(URL) 찾기

### Phase 2: AI 모델 선택 기능

- [x] **AI 모델 선택 UI 추가**
  - 기본값: Ollama (gemma2:9b)
  - 옵션: Claude Sonnet, Gemini Flash, GPT-4o
  - 각 provider 사용 가능 여부 실시간 표시

- [x] **Google Gemini API 연동** (gemini-2.0-flash)

- [x] **Claude API 연동** (claude-sonnet-4-6)

- [x] **OpenAI API 연동** (gpt-4o)

### Phase 3: Google API 연동

- [ ] **Google OAuth 2.0 인증 구현**
  - 로그인/로그아웃 UI
  - 토큰 관리

- [ ] **Google Sheets API 연동**
  - 아이디어 후보 저장
  - 파일 위치: 내 드라이브 > AI Dev
  - 파일명: SaaS 사업기획안 도출
  - 기존 파일 있으면 append, 없으면 생성

- [ ] **Google Docs API 연동**
  - 사업기획서 저장
  - 파일 제목: 자동생성 사업기획안_(기획안 제목)
  - 저장 위치: 내 드라이브 > AI Dev

### Phase 4: 슬라이드 생성 단계

- [ ] **의사결정 단계 2 구현**
  - 사업기획서 완료 후 슬라이드 진행 여부 선택

- [ ] **슬라이드 생성 기능 구현**
  - 사업기획서 기반 프레젠테이션 슬라이드 생성
  - 시각적 구성 (도표, 다이어그램)
  - 이미지 검색 및 삽입

- [ ] **Google Slides API 연동**
  - 슬라이드 파일 생성
  - 파일 제목: 자동생성 사업기획안_(기획안 제목)
  - 저장 위치: 내 드라이브 > AI Dev

### Phase 5: 품질 개선

- [ ] **에러 핸들링 강화**
  - API 실패 시 재시도 로직
  - 사용자 친화적 에러 메시지

- [ ] **로딩 상태 개선**
  - 진행률 표시
  - 단계별 상태 메시지

- [ ] **결과물 미리보기 개선**
  - 마크다운 렌더링 (현재는 pre 태그)
  - 사업기획서 섹션별 탐색

---

## 원래 플랜 vs 현재 구현 비교

| 원래 플랜 | 현재 구현 | 상태 |
|-----------|-----------|------|
| 단계 1: 키워드 받기 | 키워드 입력 UI | ✅ |
| 단계 2: 기획팀장 (인터넷 검색) | Ollama로 생성 + 인터넷 검색 | ✅ |
| 단계 2: Google Sheets 저장 | 화면 표시만 | ❌ |
| 단계 2: 모델 선택 기능 | Ollama 고정 | ❌ |
| 단계 3: 의사결정 1 | 아이디어 선택 UI | ✅ |
| 단계 3: 진행 중단 옵션 | 모두 진행 중단 버튼 | ✅ |
| 단계 4: 사업전략기획자 (리서치) | Ollama로 생성 + 인터넷 검색 | ✅ |
| 단계 4: Google Docs 저장 | 마크다운 파일 저장 | ⚠️ 대체 |
| 단계 4: 모델 선택 기능 | Ollama 고정 | ❌ |
| 단계 5: 의사결정 2 | 미구현 | ❌ |
| 단계 6: 슬라이드 생성 | 미구현 | ❌ |
| 단계 6: Google Slides 저장 | 미구현 | ❌ |

---

## 우선순위 권장 순서

1. 한국어 출력 품질 개선 (현재 가장 큰 문제)
2. 모두 진행 중단 옵션 추가
3. Google OAuth + Sheets/Docs 연동
4. AI 모델 선택 기능
5. 인터넷 검색 기능
6. 슬라이드 생성 단계
